<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin - Products</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        html, body {height: 100%;}
        .container-fluid {height: 100vh; padding: 0.5rem;}
        .table-fullscreen {height: 100%; display: flex; flex-direction: column;}
        .table-responsive {flex: 1 1 auto; overflow: auto;}
        /* alternating rows: odd = black, even = white (high specificity to override Bootstrap) */
        #product-table tbody tr:nth-child(odd) td { background: #000 !important; color: #fff !important; }
        #product-table tbody tr:nth-child(even) td { background: #fff !important; color: #000 !important; }
        /* Preserve colors on hover (prevent Bootstrap from inverting them) */
        #product-table tbody tr:nth-child(odd):hover td { background: #000 !important; color: #fff !important; }
        #product-table tbody tr:nth-child(even):hover td { background: #fff !important; color: #000 !important; }
        .table thead th {position: sticky; top: 0; background: #f8f9fa; z-index: 2}
        img.thumb {height:48px; max-width:120px; width:auto; object-fit:cover; border-radius:6px; display:block; margin:4px auto; background:#fff; padding:2px; border:1px solid #e9e9e9}
    </style>
    <script defer src="main.js"></script>
</head>
<body onload="getAllProducts()">
<div class="container-fluid">
    <div class="card shadow-sm h-100">
        <div class="card-body d-flex flex-column p-3">
            <div class="d-flex justify-content-between align-items-center mb-3">
                <h3 class="mb-0">Products Management</h3>
                <div class="d-flex gap-2 align-items-center">
                    <div class="input-group input-group-sm" style="min-width:540px;">
                        <span class="input-group-text">Search</span>
                        <input id="search-title" oninput="onSearchChange(this.value)" type="search" class="form-control" placeholder="Search title...">
                        <button class="btn btn-outline-secondary" type="button" onclick="document.getElementById('search-title').value=''; onSearchChange('')">Clear</button>
                        <select id="sort-select" class="form-select" onchange="onSortChange(this.value)">
                            <option value="">Sort: None</option>
                            <option value="price-asc">Price ↑</option>
                            <option value="price-desc">Price ↓</option>
                            <option value="name-asc">Name A→Z</option>
                            <option value="name-desc">Name Z→A</option>
                        </select>
                        <select id="page-size" class="form-select" onchange="onPageSizeChange(Number(this.value))">
                            <option value="5">5</option>
                            <option value="10" selected>10</option>
                            <option value="20">20</option>
                        </select>
                    </div>
                    <button class="btn btn-sm btn-primary" onclick="getAllProducts()">Refresh</button>
                </div>
            </div>

                <div class="table-fullscreen">
                    <div class="table-responsive border rounded">
                        <table class="table table-borderless mb-0" id="product-table">
                            <thead class="table-light">
                                <tr>
                                    <th>ID</th>
                                    <th>Title</th>
                                    <th>Price</th>
                                    <th>Category</th>
                                    <th>Image</th>
                                    <th>Created</th>
                                    <th>Updated</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="product-body"></tbody>
                        </table>
                    </div>
                    <div class="d-flex justify-content-between align-items-center mt-2">
                        <small class="text-muted">Showing <span id="result-count">0</span> items</small>
                        <nav aria-label="Pagination">
                            <ul class="pagination pagination-sm mb-0" id="pagination"></ul>
                        </nav>
                    </div>
                </div>
        </div>
    </div>

</div>

</body>
</html>
